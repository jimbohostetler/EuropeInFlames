focus_tree = {
	id = byzantine_focus

	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = BYZ
			has_dlc = "Battle for the Bosporus"
		}
	}
	
	default = no

	continuous_focus_position = { x = 50 y = 1500 }

	##############################
	# Basileus Focus Path
	##############################

	focus = {
		id = BYZ_a_public_funeral

		icon = GFX_focus_eng_god_save_the_king
		x = 1
		y = 0
		cost = 1
		ai_will_do = {
			factor = 100
		}
		search_filters = {FOCUS_FILTER_STABILITY}	
		completion_reward = {
			if = {
				limit = {
					has_country_leader = { ruling_only = yes name = "Basileus Basil IV" }
				}
				swap_ruler_traits = {
					remove = inexperienced_basileus_1
					add = inexperienced_basileus_2
				}
			}
		}
	}

	focus = {
		id = BYZ_court_the_legions
		icon = GFX_goal_support_fascism #icon = GFX_goal_tripartite_pact
		prerequisite = { focus = BYZ_a_public_funeral }
		available = {
			OR = {
				has_government = fascism
				has_government = neutrality
			}
		}
		x = 1
		y = 1
		relative_position_id = BYZ_a_public_funeral
		cost = 2
	
		search_filters = { FOCUS_FILTER_POLITICAL  }

		available_if_capitulated = no

		ai_will_do = {
			factor = 100
		}

		completion_reward = {
			add_popularity = { ideology = fascism popularity = 0.05 }
			if = {
				limit = {
					AND = {
						has_country_leader = { ruling_only = yes name = "Basileus Basil IV" }
						has_completed_focus = BYZ_address_the_senate
					}
				}
				swap_ruler_traits = {
					remove = inexperienced_basileus_senate
					add = inexperienced_basileus_legion_senate
				}
			}
			if = {
				limit = {
					has_country_leader = { ruling_only = yes name = "Basileus Basil IV" }
					NOT = {
						has_completed_focus = BYZ_address_the_senate
					}
				}
				swap_ruler_traits = {
					remove = inexperienced_basileus_2
					add = inexperienced_basileus_legion
				}
			}
		}
	}

	focus = {
		id = BYZ_address_the_senate
		icon = GFX_goal_generic_national_unity #icon = GFX_goal_tripartite_pact
		prerequisite = { focus = BYZ_a_public_funeral }
		available = {
			OR = {
				has_government = fascism
				has_government = neutrality
			}
		}
		x = -1
		y = 1
		relative_position_id = BYZ_a_public_funeral
		cost = 2
	
		search_filters = { FOCUS_FILTER_POLITICAL  }

		available_if_capitulated = no

		ai_will_do = {
			factor = 100
		}

		completion_reward = {
			add_popularity = { ideology = democratic popularity = 0.05 }
			if = {
				limit = {
					AND = {
						has_country_leader = { ruling_only = yes name = "Basileus Basil IV" }
						has_completed_focus = BYZ_court_the_legions
					}
				}
				swap_ruler_traits = {
					remove = inexperienced_basileus_legion
					add = inexperienced_basileus_legion_senate
				}
			}
			if = {
				limit = {
					has_country_leader = { ruling_only = yes name = "Basileus Basil IV" }
					NOT = {
						has_completed_focus = BYZ_court_the_legions
					}
				}
				swap_ruler_traits = {
					remove = inexperienced_basileus_2
					add = inexperienced_basileus_senate
				}
			}
		}
	}

	focus = {
		id = BYZ_host_chariot_races
		icon = GFX_focus_eng_god_save_the_king
		prerequisite = { focus = BYZ_address_the_senate }
		prerequisite = { focus = BYZ_court_the_legions }
		available = {
			OR = {
				has_government = fascism
				has_government = neutrality
			}
		}
		x = 0
		y = 2
		relative_position_id = BYZ_a_public_funeral

		cost = 5
	
		available_if_capitulated = no

		ai_will_do = {
			factor = 100
		}

		search_filters = {FOCUS_FILTER_STABILITY}	
		completion_reward = {
			if = {
				limit = {
					has_country_leader = { ruling_only = yes name = "Basileus Basil IV" }
				}
				add_timed_idea = { idea = BYZ_chariot_payment days = 180 }
				swap_ruler_traits = {
					remove = inexperienced_basileus_legion_senate
					add = young_basileus
				}
			}
		}
	}


	##############################
	# Airforce Focus Path
	##############################

	focus = {
		id = BYZ_air_experiment
		icon = GFX_goal_generic_air_doctrine
		available = {

		}
		x = 3
		y = 0
		relative_position_id = BYZ_a_public_funeral

		cost = 10
	
		available_if_capitulated = no

		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			swap_ideas = {
				remove_idea = BYZ_no_air_force
				add_idea = BYZ_infant_air_force_1
			}

			air_experience = 5

			47 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = BYZ_first_plane
		icon = GFX_goal_generic_air_doctrine
		prerequisite = { focus = BYZ_air_experiment }
		available = {

		}
		x = 0
		y = 1
		relative_position_id = BYZ_air_experiment

		cost = 10
	
		available_if_capitulated = no

		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			swap_ideas = {
				remove_idea = BYZ_infant_air_force_1
				add_idea = BYZ_infant_air_force_fighter
			}

			set_technology = {
				iw_small_airframe = 1
				engines_1 = 1
				aa_lmg = 1
				popup = yes
			}

			create_equipment_variant = {
				name = "Smolikas F-1"
				type = small_plane_airframe_0
				modules = {
					fixed_main_weapon_slot = light_mg_2x
					engine_type_slot = engine_1_1x
					special_type_slot_1 = empty
				}
			}
		}
	}

	focus = {
		id = BYZ_cas_focus
		icon = GFX_goal_generic_air_doctrine
		prerequisite = { focus = BYZ_first_plane }
		available = {

		}
		x = 1
		y = 1
		relative_position_id = BYZ_first_plane

		cost = 5
	
		available_if_capitulated = no

		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			set_technology = {
				early_bombs = 1
				popup = yes
			}

			swap_ideas = {
				remove_idea = BYZ_infant_air_force_fighter
				add_idea = BYZ_infant_air_force_fighter_cas
			}
		}
	}

	focus = {
		id = BYZ_air_base_focus
		icon = GFX_goal_generic_air_doctrine
		prerequisite = { focus = BYZ_first_plane }
		available = {

		}
		x = -1
		y = 1
		relative_position_id = BYZ_first_plane

		cost = 5
	
		available_if_capitulated = no

		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			if = {
				limit = {
					capital_scope = {
						NOT = {
							free_building_slots = {
								building = air_base
								size > 1
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = air_base
							size > 1
						}
					}
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					capital_scope = {
						free_building_slots = {
							building = air_base
							size > 1
						}
					}
				}
				capital_scope = {
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}

	##############################
	# Infrastructure Focus Path
	##############################

	focus = {
		id = BYZ_capitol_infra

		icon = GFX_goal_generic_construct_civ_factory

		x = 6
		y = 0
		relative_position_id = BYZ_a_public_funeral

		cost = 10
		ai_will_do = {
			factor = 5
		}

		# search_filters = {FOCUS_FILTER_STABILITY}	

		completion_reward = {
			797 = { # Constantinople
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = BYZ_capitol_defense

		icon = GFX_goal_generic_construction2
		prerequisite = { focus = BYZ_capitol_infra }
		x = 0
		y = 1
		relative_position_id = BYZ_capitol_infra

		cost = 5
		ai_will_do = {
			factor = 5
		}

		# search_filters = {FOCUS_FILTER_STABILITY}	

		completion_reward = {
			797 = { # Constantinople
				add_building_construction = {
					type = bunker
					level = 3
					province = 9833
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 3
					province = 11829
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 1
					instant_build = yes
				}

			}
		}
	}

	focus = {
		id = BYZ_capitol_university

		icon = GFX_focus_research
		prerequisite = { focus = BYZ_capitol_defense }
		x = 0
		y = 1
		relative_position_id = BYZ_capitol_defense

		cost = 10
		ai_will_do = {
			factor = 50
		}

		# search_filters = {FOCUS_FILTER_STABILITY}	

		completion_reward = {
			add_research_slot = 1
			add_timed_idea = { idea = BYZ_funding_new_university days = 180 }
		}
	}

	##############################
	# Manpower Focus Path
	##############################

	focus = {
		id = BYZ_ask_the_pope
		icon = GFX_goal_generic_construct_civ_factory

		x = 8
		y = 0
		relative_position_id = BYZ_a_public_funeral

		cost = 10
		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			country_event = { id = byzantine.1 }
		}
	}
}
